syntax = "proto3";
package com.wavesplatform.api.grpc;
import "scalapb/scalapb.proto";
import "address.proto";
import "transactions.proto";
import "google/protobuf/empty.proto";

option (scalapb.options) = {
    import: "com.wavesplatform.serialization.protobuf.utils._"
    flat_package: true
};

service TransactionsApi {
    rpc TransactionsByAddress (TransactionsByAddressRequest) returns (stream Transaction);
    rpc TransactionById (TransactionByIdRequest) returns (Transaction);
    rpc UnconfirmedTransactions (LimitedRequest) returns (stream Transaction);
}

message LimitedRequest {
    uint32 limit = 10;
}

message TransactionsByAddressRequest {
    Recipient address = 1 [(scalapb.field).no_box = true];
    bytes fromId = 2 [(scalapb.field).type = "com.wavesplatform.common.state.ByteStr"];
    uint32 limit = 10;
}

message TransactionByIdRequest {
    bytes transactionId = 1 [(scalapb.field).type = "com.wavesplatform.common.state.ByteStr"];
}