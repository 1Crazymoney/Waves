// Transactions
syntax = "proto3";
option java_package = "com.wavesplatform.block.protobuf";
import "scalapb/scalapb.proto";
import "transactions.proto";

option (scalapb.options) = {
    import: "com.wavesplatform.serialization.protobuf.utils._"
};

message Block {
    option (scalapb.message).extends = "com.wavesplatform.block.protobuf.PBBlockBase";
    option (scalapb.message).companion_extends = "com.wavesplatform.block.protobuf.PBBlockCompanionBase";

    message SignedHeader {
        Header header = 1 [(scalapb.field).no_box = true];
        bytes signature = 8 [(scalapb.field).type = "com.wavesplatform.common.state.ByteStr"];
    }

    message Header {
        bytes reference = 1 [(scalapb.field).type = "com.wavesplatform.common.state.ByteStr"];
        int64 baseTarget = 2;
        bytes generationSignature = 3 [(scalapb.field).type = "com.wavesplatform.common.state.ByteStr"];
        repeated uint32 featureVotes = 4 [(scalapb.field).collection_type = "scala.collection.immutable.Set"];
        int64 timestamp = 5;
        int32 version = 6;
        bytes generator = 7 [(scalapb.field).type = "com.wavesplatform.account.PublicKeyAccount"];
    }

    bytes chainId = 1 [(scalapb.field).type = "com.wavesplatform.transaction.protobuf.ChainId"];
    SignedHeader header = 2 [(scalapb.field).no_box = true];
    repeated SignedTransaction transactions = 3;
}